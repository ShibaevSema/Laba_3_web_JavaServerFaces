<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ace="http://www.icefaces.org/icefaces/components"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <title>JuSt do It</title>
</h:head>

<h:body>
    <div class="card-body">
        <canvas id="canvas" onclick="clickCanvas()"
                style="background-color:#ffffff;" width="300"
                height="300">
        </canvas>
    </div>

    <div class="card-input">
        <h:form id="form">
            <table>
                <tr>
                    <td>
                        Ð¡hoose the X value : <br/>
                        <h:selectOneMenu value="#{saveBean.x}">
                            <f:selectItem itemValue="-5" itemLabel="-5"/>
                            <f:selectItem itemValue="-4" itemLabel="-4"/>
                            <f:selectItem itemValue="-3" itemLabel="-3"/>
                            <f:selectItem itemValue="-2" itemLabel="-2"/>
                            <f:selectItem itemValue="-1" itemLabel="-1"/>
                            <f:selectItem itemValue="0" itemLabel="0"/>
                            <f:selectItem itemValue="1" itemLabel="1"/>
                            <f:selectItem itemValue="2" itemLabel="2"/>
                            <f:selectItem itemValue="3" itemLabel="3"/>
                        </h:selectOneMenu>
                        <ace:messages id="msgs" initEffect="highlight"
                                      changeEffect="puff"/>
                    </td>
                </tr>

                <tr>
                    <td>
                        Enter the Y value from (-3;3) :<br/>
                        <h:inputText id="y" value="#{saveBean.y}" required="true">
                            <f:validateLength maximum="7"/>
                            <f:validateDoubleRange minimum="-2.999" maximum="2.999"/>
                        </h:inputText>
                    </td>
                </tr>

                <tr>

                    <td>
                        <label for="r">R Value:</label>
                        <h:inputText id="r" value="#{saveBean.r}" disabled="true"/>
                        <table>
                            <td>
                                <h:commandLink id="cl1" update="r" action="#{saveBean.onRChecked(1)}"
                                               onclick="drawCanvas('canvas', 1)">
                                    <h:outputText value="1"/>
                                </h:commandLink>
                            </td>
                            <td>
                                <h:commandLink id="cl2" update="r" action="#{saveBean.onRChecked(2)}"
                                               onclick="drawCanvas('canvas', 2)">
                                    <h:outputText value="2"/>
                                </h:commandLink>
                            </td>
                            <td>
                                <h:commandLink id="cl3" update="r" action="#{saveBean.onRChecked(3)}"
                                               onclick="drawCanvas('canvas', 3)">
                                    <h:outputText value="3"/>
                                </h:commandLink>
                            </td>
                            <td>
                                <h:commandLink id="cl4" update="r" action="#{saveBean.onRChecked(4)}"
                                               onclick="drawCanvas('canvas', 4)">
                                    <h:outputText value="4"/>
                                </h:commandLink>
                            </td>
                            <td>
                                <h:commandLink id="cl5" update="r" action="#{saveBean.onRChecked(5)}"
                                               onclick="drawCanvas('canvas', 5)">
                                    <h:outputText value="5"/>
                                </h:commandLink>
                            </td>
                        </table>

                    </td>
                </tr>

            </table>

            <br/>
            <h:commandButton action="#{saveBean.onSubmit}"
                             update="msgs table"
                             value="Send"
                             style="font-size: x-large"/>

            <h:button outcome="index"
                      value="Back to home"
                      style="font-size: x-large"/>

            <h:commandButton style="display:none" id="refresh_table">
                <f:ajax render="table"/>
            </h:commandButton>
            <br/>

            <ace:dataTable id="table"
                           value="#{Results.results}"
                           var="result"
                           rows="100">

                <ace:column id="id" headerText="Id">
                    <h:outputText value="#{result.id}"/>
                </ace:column>

                <ace:column id="col_x" headerText="X">
                    <h:outputText value="#{result.x}"/>
                </ace:column>

                <ace:column id="col_y" headerText="Y">
                    <h:outputText value="#{result.y}"/>
                </ace:column>

                <ace:column id="col_r" headerText="R">
                    <h:outputText value="#{result.r}"/>
                </ace:column>

                <ace:column id="col_res" headerText="Result">
                    <h:outputText value="#{result.isInArea}"/>
                </ace:column>

            </ace:dataTable>
        </h:form>
    </div>

    <h:outputScript library="js" name="canvas.js"/>
    <h:outputStylesheet library="css" name="main.css"/>

</h:body>

</html>





